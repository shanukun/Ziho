{% extends "base.html" %}
{% block content %}
    <h1>Hi, {{ current_user.username }}!</h1>
    <button type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#create-deck-overlay">Create Deck</button>
    <hr />
    <table>
        {% for deck in decks %}
            <tr>
                <td>{{ deck.name }}</td>
                <td>
                    <button type="button" class="btn btn-primary" data-deck_id={{ deck.id }} data-bs-toggle="modal" data-bs-target="#create-card-overlay">Add Card
                    </button>
                </td>
            </tr>
        {% endfor %}
    </table>
    {% include "modals/_create-deck-modal.html" %}
    {% include "modals/_create-card-modal.html" %}
{% endblock content %}
{% block script %}
    <script>
        getEl("#create-card-overlay").addEventListener("show.bs.modal", (e) => {
            deck_id = e.relatedTarget.dataset.deck_id;
            getEl("#deck-select").value = deck_id;
        });
    </script>
{% endblock script %}
